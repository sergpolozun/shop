{% extends "main/base.html" %}
{% load static %} 
{% block title %}Рабочий стол | POLOS{% endblock %}
{% block content %}
<div class="desktop">

  <!-- Добавляем слои для обоев -->
  <div class="wallpaper-layer wallpaper1 visible"></div>
  <div class="wallpaper-layer wallpaper2"></div>

  <!-- Магазин по центру -->
  <div id="shopIcon" class="icon big-icon" ondblclick="openModal('shopModal')">
    <img src="{% static 'icons/shop.png' %}" alt="Магазин" />
    <span>Магазин</span>
  </div>

  <!-- Другие иконки по углам -->
  <div class="icon corner-icon top-left" ondblclick="openModal('terminalModal')">
    <img src="{% static 'icons/terminal.png' %}" alt="Терминал" />
    <span>Терминал</span>
  </div>

  <div class="icon corner-icon top-right" ondblclick="openModal('paintModal')">
    <img src="{% static 'icons/paint.png' %}" alt="Пейнт" />
    <span>Пейнт</span>
  </div>

  <div class="icon corner-icon bottom-left" ondblclick="openModal('wallpaperModal')">
    <img src="{% static 'icons/wallpaper.png' %}" alt="Обои" />
    <span>Обои</span>
  </div>

  <div class="icon corner-icon bottom-right" ondblclick="window.location.href='/minesweeper/';">
    <img src="{% static 'icons/sapper.png' %}" alt="Сапёр" />
    <span>Сапёр</span>
  </div>

  <!-- Модальные окна в стиле Windows 98 -->
  <div id="shopModal" class="modal-win98">
    <div class="modal-content-win98">
      <div class="modal-header-win98">
        <h3>Магазин</h3>
        <button class="close-btn-win98" onclick="closeModal('shopModal')">×</button>
      </div>
      <div class="modal-body-win98">
        <p>Добро пожаловать в магазин POLOS!</p>
        <div style="text-align: center; margin-top: 20px;">
          <a href="/shop" class="btn-win98">Перейти в магазин</a>
        </div>
      </div>
    </div>
  </div>

  <div id="terminalModal" class="modal-win98">
    <div class="modal-content-win98">
      <div class="modal-header-win98">
        <h3>Терминал</h3>
        <button class="close-btn-win98" onclick="closeModal('terminalModal')">×</button>
      </div>
      <div class="modal-body-win98">
        <p>Магазин POLOS — ваш портал в мир ретро-стиля и современного функционала.</p>
        <div style="text-align: center; margin-top: 20px;">
          <button class="btn-win98" onclick="closeModal('terminalModal')">Понятно</button>
        </div>
      </div>
    </div>
  </div>

  <div id="paintModal" class="modal-win98">
    <div class="modal-content-win98">
      <div class="modal-header-win98">
        <h3>Пейнт</h3>
        <button class="close-btn-win98" onclick="closeModal('paintModal')">×</button>
      </div>
      <div class="modal-body-win98">
        <p>Пейнт пока не доступен.</p>
        <p>Эта функция будет добавлена в ближайших обновлениях.</p>
        <div style="text-align: center; margin-top: 20px;">
          <button class="btn-win98" onclick="closeModal('paintModal')">Понятно</button>
        </div>
      </div>
    </div>
  </div>
  
  <div id="wallpaperModal" class="modal-win98">
    <div class="modal-content-win98">
      <div class="modal-header-win98">
        <h3>Обои</h3>
        <button class="close-btn-win98" onclick="closeModal('wallpaperModal')">×</button>
      </div>
      <div class="modal-body-win98">
        <p>Здесь можно сменить обои рабочего стола:</p>
        <div style="text-align: center; margin-top: 20px;">
          <button id="changeWallpaperBtn" class="btn-win98">Сменить обои</button>
        </div>
      </div>
    </div>
  </div>
  
  <div id="sapperModal" class="modal-win98">
    <div class="modal-content-win98">
      <div class="modal-header-win98">
        <h3>Сапёр</h3>
        <button class="close-btn-win98" onclick="closeModal('sapperModal')">×</button>
      </div>
      <div class="modal-body-win98">
        <p>Классическая игра "Сапёр" в стиле Windows 98.</p>
        <div style="text-align: center; margin-top: 20px;">
          <button class="btn-win98" onclick="closeModal('sapperModal')">Понятно</button>
        </div>
      </div>
    </div>
  </div>

</div>

<script src="{% static 'js/desktop.js' %}"></script>
<script src="{% static 'js/d-n-d.js' %}"></script>
<script src="{% static 'js/change_wallpaper.js' %}"></script>
{% endblock %}
